cmake_minimum_required(VERSION 3.10.2)
project(YOLOv10_OpenVINO)

set(CMAKE_CXX_STANDARD 14)

find_package(OpenCV REQUIRED)
find_package(yaml-cpp REQUIRED)
find_package(nlohmann_json REQUIRED)

include_directories(${OpenCV_INCLUDE_DIRS} /opt/intel/openvino_2023.3.0/runtime/include)

set(SOURCES
	utils.cc
	inference.cc
)

add_library(inference_lib ${SOURCES})
target_link_libraries(inference_lib ${OpenCV_LIBS} /opt/intel/openvino_2023.3.0/runtime/lib/intel64/libopenvino.so yaml-cpp nlohmann_json::nlohmann_json)

add_executable(camera main_camera.cc)
add_executable(yolo10detect main_detect.cc)
add_executable(video main_video.cc)

target_link_libraries(camera inference_lib)
target_link_libraries(yolo10detect inference_lib)
target_link_libraries(video inference_lib)
